<div class="page-container">
  <!-- <h1>Other Configurations</h1> -->
  <!-- <p>Manage lists used for selections in earnings entries.</p> -->

  <div class="configs-grid">

    <!-- Models Config Card -->
    <app-config-card title="Models" [loading]="isLoadingModels">
      <div card-actions>
        <button mat-flat-button color="primary" (click)="saveModels()" [disabled]="isLoadingModels || !modelsChanged">
          <mat-icon>save</mat-icon> Save Models
        </button>
      </div>
      <div card-content>
        <mat-form-field class="chip-list-input">
          <mat-label>Add Model...</mat-label>
          <mat-chip-grid #modelChipGrid aria-label="Model selection">
            <mat-chip-row *ngFor="let model of models" (removed)="removeModel(model)">
              {{model}}
              <button matChipRemove [attr.aria-label]="'remove ' + model">
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip-row>
          </mat-chip-grid>
          <input class="placeholder-input" placeholder="New model..."
                 [matChipInputFor]="modelChipGrid"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 [matChipInputAddOnBlur]="addOnBlur"
                 (matChipInputTokenEnd)="addModel($event)"/>
        </mat-form-field>
        <p *ngIf="models.length === 0">No models defined.</p>
      </div>
    </app-config-card>

    <!-- Periods Config Card -->
    <app-config-card title="Periods" [loading]="isLoadingPeriods">
       <div card-actions>
         <button mat-flat-button color="primary" (click)="savePeriods()" [disabled]="isLoadingPeriods || !periodsChanged">
           <mat-icon>save</mat-icon> Save Periods
         </button>
       </div>
       <div card-content>
          <mat-form-field class="chip-list-input">
            <mat-label>Add Period...</mat-label>
            <mat-chip-grid #periodChipGrid aria-label="Period selection">
              <mat-chip-row *ngFor="let period of periods" (removed)="removePeriod(period)">
                {{period}}
                <button matChipRemove [attr.aria-label]="'remove ' + period">
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip-row>
            </mat-chip-grid>
            <input class="placeholder-input" placeholder="New period..."
                   [matChipInputFor]="periodChipGrid"
                   [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                   [matChipInputAddOnBlur]="addOnBlur"
                   (matChipInputTokenEnd)="addPeriod($event)"/>
          </mat-form-field>
          <p *ngIf="periods.length === 0">No periods defined.</p>
       </div>
    </app-config-card>

    <!-- Shifts Config Card -->
     <app-config-card title="Shifts" [loading]="isLoadingShifts">
       <div card-actions>
         <button mat-flat-button color="primary" (click)="saveShifts()" [disabled]="isLoadingShifts || !shiftsChanged">
           <mat-icon>save</mat-icon> Save Shifts
         </button>
       </div>
       <div card-content>
          <mat-form-field class="chip-list-input">
            <mat-label>Add Shift...</mat-label>
            <mat-chip-grid #shiftChipGrid aria-label="Shift selection">
              <mat-chip-row *ngFor="let shift of shifts" (removed)="removeShift(shift)">
                {{shift}}
                <button matChipRemove [attr.aria-label]="'remove ' + shift">
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip-row>
            </mat-chip-grid>
            <input class="placeholder-input" placeholder="New shift..."
                   [matChipInputFor]="shiftChipGrid"
                   [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                   [matChipInputAddOnBlur]="addOnBlur"
                   (matChipInputTokenEnd)="addShift($event)"/>
          </mat-form-field>
          <p *ngIf="shifts.length === 0">No shifts defined.</p>
       </div>
    </app-config-card>

  </div>
</div>
