@use '@angular/material' as mat;

// Include core styles
@include mat.core();

// Define palettes explicitly
$custom-deep-purple-palette: mat.m2-define-palette(mat.$m2-deep-purple-palette, 500);
$custom-amber-palette: mat.m2-define-palette(mat.$m2-amber-palette, 500);
$custom-purple-palette: mat.m2-define-palette(mat.$m2-purple-palette, 500);
$custom-green-palette: mat.m2-define-palette(mat.$m2-green-palette, 500);
$custom-red-palette: mat.m2-define-palette(mat.$m2-red-palette, 500);

// Define themes
$light-theme: mat.m2-define-light-theme((
  color: (
    primary: $custom-deep-purple-palette,
    accent: $custom-amber-palette,
    warn: $custom-red-palette
  ),
  typography: mat.m2-define-typography-config(),
  density: 0
));

$dark-theme: mat.m2-define-dark-theme((
  color: (
    primary: $custom-purple-palette,
    accent: $custom-green-palette,
    warn: $custom-red-palette
  ),
  typography: mat.m2-define-typography-config(),
  density: 0
));

// Apply themes
@include mat.core-theme($light-theme);
@include mat.typography-hierarchy($light-theme);
@include mat.all-component-themes($light-theme);
@include mat.datepicker-theme($light-theme); // Explicit datepicker theme

.dark-theme {
  @include mat.all-component-colors($dark-theme);
  @include mat.datepicker-color($dark-theme); // Explicit datepicker colors
  --mat-app-background-color: #{mat.get-theme-color($dark-theme, background, background)};
  --mat-app-text-color: #{mat.get-theme-color($dark-theme, foreground, text)};
}

// Rest of your global styles...
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: mat.get-theme-color($light-theme, background, background);
  color: mat.get-theme-color($light-theme, foreground, text);
}

body.dark-theme {
  background-color: mat.get-theme-color($dark-theme, background, background);
  color: mat.get-theme-color($dark-theme, foreground, text);
}

// Custom CSS variables
body {
  --mat-secondary-text-color: #{mat.get-theme-color($light-theme, foreground, secondary-text)};
  --mat-divider-color: #{mat.get-theme-color($light-theme, foreground, divider)};
  --mat-icon-color: #{mat.get-theme-color($light-theme, foreground, icon)};
  --mat-warn-color: #{mat.get-theme-color($light-theme, warn, default)};
  --mat-primary-color: #{mat.get-theme-color($light-theme, primary, default)};
  --mat-success-color: green;
  --mat-info-message-background-color: #e0e0e0;
  --mat-info-message-text-color: rgba(0,0,0,0.87);
  --mat-info-message-border-color: #bdbdbd;
  --mat-error-message-background-color: rgba(#{mat.get-theme-color($light-theme, warn)}, 0.1);
  --mat-pre-background-color: rgba(128, 128, 128, 0.1);
  --mat-pre-text-color: inherit;
  --mat-card-background-color: #{mat.get-theme-color($light-theme, background, card)};
  --mat-card-text-color: #{mat.get-theme-color($light-theme, foreground, text)};
  --mat-card-title-text-color: #{mat.get-theme-color($light-theme, foreground, text)};
}

body.dark-theme {
  --mat-secondary-text-color: #{mat.get-theme-color($dark-theme, foreground, secondary-text)};
  --mat-divider-color: #{mat.get-theme-color($dark-theme, foreground, divider)};
  --mat-icon-color: #{mat.get-theme-color($dark-theme, foreground, icon)};
  --mat-warn-color: #{mat.get-theme-color($dark-theme, warn, default)};
  --mat-primary-color: #{mat.get-theme-color($dark-theme, primary, default)};
  --mat-success-color: lightgreen;
  --mat-info-message-background-color: #616161;
  --mat-info-message-text-color: white;
  --mat-info-message-border-color: #757575;
  --mat-error-message-background-color: rgba(#{mat.get-theme-color($dark-theme, warn)}, 0.1);
  --mat-pre-background-color: rgba(200, 200, 200, 0.1);
  --mat-pre-text-color: inherit;
  --mat-card-background-color: #{mat.get-theme-color($dark-theme, background, card)};
  --mat-card-text-color: #{mat.get-theme-color($dark-theme, foreground, text)};
  --mat-card-title-text-color: #{mat.get-theme-color($dark-theme, foreground, text)};
}