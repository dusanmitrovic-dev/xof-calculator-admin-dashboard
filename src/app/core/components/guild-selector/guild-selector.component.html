<div class="guild-selector-container">
  @if (isLoading()) {
    <mat-spinner diameter="30"></mat-spinner>
  } @else {
    @if (availableGuilds().length > 0) {
      <mat-form-field appearance="outline">
        <mat-label>Select Guild</mat-label>
        <mat-select [value]="selectedGuild()" 
                    (valueChange)="onGuildSelectionChange($event)"
                    placeholder="Choose a Guild">
          <!-- Allow clearing selection -->
          <mat-option [value]="null">-- None --</mat-option> 
          @for (guildId of availableGuilds(); track guildId) {
            <mat-option [value]="guildId">{{ guildId }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    } @else {
      <p>No guilds available or assigned to manage.</p>
      <!-- Optionally prompt admin to configure guilds or assign access -->
    }
  }
</div>
